<template>
    <div class="pt-[6.8rem] pb-[4rem]">
        <section class="container mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-2 px-8 md:px-0">
                <div class="block flex-1 mb-12">
                    <div class="max-w-[480px]">
                        <h1
                            class="font-[900] text-[3rem] leading-[1] mb-[1rem]"
                        >
                            Planter <br />
                            <span class="text-[#39b54a]">En Securité</span>
                        </h1>
                        <p class="font-[500] mb-[2rem]">
                            Grâce aux conseils de nos experts et à nos solutions
                            technologies, les agriculteurs peuvent s'attendre à
                            voir des améliorations significatives dans leurs
                            opérations agricoles.
                        </p>
                        <div class="flex items-center">
                            <button
                                type="button"
                                class="text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-3"
                            >
                                Demander un devis
                            </button>
                            <button
                                type="button"
                                class="text-white bg-gray-700 hover:bg-gray-800 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-3 md:mr-0"
                            >
                                Nous contacter
                            </button>
                        </div>
                    </div>
                </div>
                <div
                    class="flex items-center justify-center w-10/12 mx-auto md:max-h-[150px]"
                >
                    <img
                        src="/imgs/Farming-software.jpg"
                        alt="Farming Software"
                        class="inline-block w-full rounded-full"
                    />
                </div>
            </div>
        </section>
        <section class="mt-48 md:mt-64 pb-40 relative bg-blueGray-100">
            <div class="container mx-auto">
                <div class="flex flex-wrap items-center">
                    <div
                        class="hidden md:block w-10/12 md:w-6/12 lg:w-4/12 px-12 md:px-4 mr-auto ml-auto -mt-32"
                    >
                        <div
                            class="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded-lg bg-emerald-500"
                        >
                            <img
                                alt="..."
                                src="/imgs/Modern-farming.jpg"
                                class="w-full align-middle rounded-lg"
                            />
                        </div>
                    </div>
                    <div class="w-full md:w-6/12 px-4">
                        <div class="flex flex-wrap">
                            <div class="w-full md:w-6/12 px-4">
                                <div class="relative flex flex-col mt-4">
                                    <div class="px-4 py-5 flex-auto">
                                        <div
                                            class="text-blueGray-500 p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full bg-white"
                                        >
                                            <i
                                                class="ri-grid-fill text-3xl"
                                            ></i>
                                        </div>
                                        <h6 class="text-xl mb-1 font-semibold">
                                            Construction de serre
                                        </h6>
                                        <p class="mb-4 text-blueGray-500">
                                            Serri agence votre serre en filet et
                                            en polycarbonate selon vos
                                            spécification.
                                        </p>
                                    </div>
                                </div>
                                <div
                                    class="relative flex flex-col min-w-0 mt-4"
                                >
                                    <div class="px-4 py-5 flex-auto">
                                        <div
                                            class="text-blueGray-500 p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full bg-white"
                                        >
                                            <i
                                                class="ri-history-fill text-3xl"
                                            ></i>
                                        </div>
                                        <h6 class="text-xl mb-1 font-semibold">
                                            Installation des flotteurs
                                        </h6>
                                        <p class="mb-4 text-blueGray-500">
                                            Pour automatiser le remplissage
                                            automatique d'un réservoi
                                            d'irrigation, Serri met en place des
                                            flotteurs
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full md:w-6/12 px-4">
                                <div class="relative flex flex-col min-w-0">
                                    <div class="px-4 py-5 flex-auto">
                                        <div
                                            class="text-blueGray-500 p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full bg-white"
                                        >
                                            <i
                                                class="ri-drop-fill text-3xl"
                                            ></i>
                                        </div>
                                        <h6 class="text-xl mb-1 font-semibold">
                                            L'irrigation automatique
                                        </h6>
                                        <p class="mb-4 text-blueGray-500">
                                            Serri installe des Kits d'irrigation
                                            automatique complète sur mesure de
                                            50m2 ,100m2 à 200m2.
                                        </p>
                                    </div>
                                </div>
                                <div class="relative flex flex-col min-w-0">
                                    <div class="px-4 py-5 flex-auto">
                                        <div
                                            class="text-blueGray-500 p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full bg-white"
                                        >
                                            <i
                                                class="ri-temp-hot-fill text-3xl"
                                            ></i>
                                        </div>
                                        <h6 class="text-xl mb-1 font-semibold">
                                            Gestion du climat
                                        </h6>
                                        <p class="mb-4 text-blueGray-500">
                                            Serri vous donne la possibilité de
                                            gérer le climat de votre serre avec
                                            suivi via une application
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div
                        class="block md:hidden w-10/12 md:w-6/12 lg:w-4/12 px-12 md:px-4 mr-auto ml-auto mt-16"
                    >
                        <div
                            class="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded-lg bg-emerald-500"
                        >
                            <img
                                alt="..."
                                src="/imgs/Modern-farming.jpg"
                                class="w-full align-middle rounded-lg"
                            />
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="container mx-auto px-4 pb-48">
            <div class="items-center flex flex-wrap">
                <div class="w-full md:w-5/12 mx-auto px-4">
                    <div class="md:pr-12">
                        <div
                            class="text-green-600 p-3 text-center inline-flex items-center justify-center w-16 h-16 mb-6 shadow-lg rounded-full bg-green-300"
                        >
                            <i class="ri-rocket-fill text-xl"></i>
                        </div>
                        <h3 class="text-3xl font-semibold">
                            Révolutionner l'agriculture
                        </h3>
                        <p class="mt-4 text-lg leading-relaxed text-slate-500">
                            Nous ouvrons la voie à l'agriculture durable grâce à
                            des solutions agtech avancées. Des outils
                            d'agriculture de précision aux logiciels d'analyse
                            de données, pour accroître leur efficacité et leurs
                            bénéfices tout en réduisant leur impact
                            environnemental.
                        </p>
                        <ul class="list-none my-6">
                            <li class="py-2">
                                <div class="flex items-center">
                                    <div>
                                        <span
                                            class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-green-600 bg-green-200 mr-3"
                                            ><i
                                                class="ri-focus-3-line text-2xl"
                                            ></i
                                        ></span>
                                    </div>
                                    <div>
                                        <h4 class="text-slate-500">
                                            Apporter des solutions-Tech aux
                                            agriculteur
                                        </h4>
                                    </div>
                                </div>
                            </li>
                            <li class="py-2">
                                <div class="flex items-center">
                                    <div>
                                        <span
                                            class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-green-600 bg-green-200 mr-3"
                                            ><i class="ri-eye-line text-2xl"></i
                                        ></span>
                                    </div>
                                    <div>
                                        <h4 class="text-slate-500">
                                            Participer à l'agriculture de demain
                                            !
                                        </h4>
                                    </div>
                                </div>
                            </li>
                            <li class="py-2">
                                <div class="flex items-center">
                                    <div>
                                        <span
                                            class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-green-600 bg-green-200 mr-3"
                                            ><i
                                                class="ri-medal-2-line text-2xl"
                                            ></i
                                        ></span>
                                    </div>
                                    <div>
                                        <h4 class="text-slate-500">
                                            Qualité-Innovation- Engagement
                                        </h4>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="w-full md:w-4/12 mx-auto px-4 mt-20 md:mt-0">
                    <img
                        alt="..."
                        class="max-w-full rounded-lg shadow-lg"
                        src="/imgs/adele-payman-unsplash.jpg"
                    />
                </div>
            </div>
        </section>
        <section class="pb-20 relative block bg-green-800">
            <div
                class="bottom-auto top-0 left-0 right-0 hidden md:block w-full absolute pointer-events-none overflow-hidden -mt-16"
                style="height: 80px"
            >
                <svg
                    class="absolute bottom-0 overflow-hidden"
                    xmlns="http://www.w3.org/2000/svg"
                    preserveAspectRatio="none"
                    version="1.1"
                    viewBox="0 0 2560 100"
                    x="0"
                    y="0"
                >
                    <polygon
                        class="text-green-800 fill-current"
                        points="2560 0 2560 100 0 100"
                    ></polygon>
                </svg>
            </div>
            <div class="container mx-auto px-4 pt-14 lg:pt-24 lg:pb-64">
                <div class="flex flex-wrap text-center justify-center">
                    <div class="w-full lg:w-6/12 px-4">
                        <h2 class="text-4xl font-semibold text-white">
                            Renforcer l'agriculture pour un avenir durable
                        </h2>
                        <p
                            class="text-sm leading-relaxed mt-4 mb-4 text-slate-400"
                        >
                            Nous nous engageons à aider les agriculteurs à
                            accroître leur efficacité et leurs bénéfices tout en
                            réduisant leur impact environnemental. Grâce à des
                            technologies innovantes et à nos conseils d'experts,
                            nous sommes convaincus que nous pouvons aider nos
                            clients à atteindre leurs objectifs et à assurer un
                            avenir durable à l'agriculture.
                        </p>
                    </div>
                </div>
                <div class="flex flex-wrap mt-12 justify-center">
                    <div class="w-full md:w-6/12 lg:w-3/12 lg:mb-0 mb-12 px-4">
                        <div class="px-6">
                            <img
                                alt="..."
                                src="https://avataaars.io/?avatarStyle=Transparent&topType=Hijab&accessoriesType=Blank&hatColor=PastelGreen&clotheType=ShirtVNeck&clotheColor=White&eyeType=Happy&eyebrowType=RaisedExcited&mouthType=Default&skinColor=Brown"
                                class="shadow-lg rounded-full max-w-full mx-auto"
                                style="max-width: 120px"
                            />
                            <div class="pt-6 text-center">
                                <h5 class="text-xl font-bold text-slate-200">
                                    Habon A. Abdi
                                </h5>
                                <p
                                    class="mt-1 text-sm text-slate-400 uppercase font-semibold"
                                >
                                    Fondateur & CEO
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="w-full md:w-6/12 lg:w-3/12 lg:mb-0 mb-12 px-4">
                        <div class="px-6">
                            <img
                                alt="..."
                                src="https://avataaars.io/?avatarStyle=Transparent&topType=ShortHairTheCaesar&accessoriesType=Blank&hairColor=Black&facialHairType=Blank&clotheType=ShirtVNeck&clotheColor=Black&eyeType=Default&eyebrowType=Default&mouthType=Default&skinColor=Brown"
                                class="shadow-lg rounded-full max-w-full mx-auto"
                                style="max-width: 120px"
                            />
                            <div class="pt-6 text-center">
                                <h5 class="text-xl font-bold text-slate-200">
                                    Moussa A. Dabar
                                </h5>
                                <p
                                    class="mt-1 text-sm text-slate-400 uppercase font-semibold"
                                >
                                    Chef de projet
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="w-full md:w-6/12 lg:w-3/12 lg:mb-0 mb-12 px-4">
                        <div class="px-6">
                            <img
                                alt="..."
                                src="https://avataaars.io/?avatarStyle=Transparent&topType=Hijab&accessoriesType=Blank&hatColor=Blue03&hairColor=BrownDark&facialHairType=Blank&clotheType=BlazerShirt&eyeType=Default&eyebrowType=Default&mouthType=Default&skinColor=Brown"
                                class="shadow-lg rounded-full max-w-full mx-auto"
                                style="max-width: 120px"
                            />
                            <div class="pt-6 text-center">
                                <h5 class="text-xl font-bold text-slate-200">
                                    Saredo D. Guirreh 
                                </h5>
                                <p
                                    class="mt-1 text-sm text-slate-400 uppercase font-semibold"
                                >
                                    Comptable
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="relative block py-24 lg:pt-0 bg-green-800">
            <div class="container mx-auto px-4">
                <div class="flex flex-wrap justify-center lg:-mt-64 -mt-48">
                    <div class="w-full lg:w-6/12 px-4">
                        <form
                            action=""
                            method="post"
                            @submit.prevent="sendMessage"
                            class="relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-slate-200"
                        >
                            <div class="flex-auto p-5 lg:p-10">
                                <h4 class="text-2xl font-semibold">
                                    Vous voulez travailler avec nous ?
                                </h4>
                                <p
                                    class="leading-relaxed mt-1 mb-4 text-slate-500"
                                >
                                    Remplissez ce formulaire et nous vous
                                    répondrons dans les 24 heures.
                                </p>
                                <input-comp
                                    type="text"
                                    label="fullname"
                                    label_txt="Nom complet"
                                    placeholder="Votre prénom et votre nom"
                                    icon="user"
                                    v-model="formData.fullname"
                                    :error="error.fullname"
                                    required
                                />

                                <input-comp
                                    type="text"
                                    label="object"
                                    label_txt="Objet du projet"
                                    placeholder="Quelle est votre projet? ex: installation des flotteurs"
                                    icon="user"
                                    v-model="formData.object"
                                    :error="error.object"
                                    required
                                />

                                <input-comp
                                    type="email"
                                    label="email"
                                    label_txt="Courrier électronique"
                                    placeholder="Quelle est le courrier à utiliser pour vous donner retour?"
                                    icon="user"
                                    v-model="formData.email"
                                    :error="error.email"
                                    required
                                />

                                <div class="relative w-full mb-3">
                                    <label
                                        class="block uppercase text-slate-600 text-xs font-bold mb-2"
                                        for="message"
                                        >Décrivez votre projet</label
                                    ><textarea
                                        rows="4"
                                        cols="80"
                                        class="border-0 px-3 py-3 placeholder-slate-300 text-slate-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full resize-none"
                                        required
                                        v-model="formData.message"
                                        placeholder="Parlez-nous un peu sur votre projet?"
                                    ></textarea>
                                </div>

                                <div class="text-center mt-6">
                                    <button
                                        class="bg-green-800 text-white active:bg-green-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"
                                        type="submit"
                                    >
                                        Envoyer le message
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </div>
</template>
<script>
import InputComp from "../components/Inputcomp.vue";
export default {
    name: "home",
    components: { InputComp },
    data() {
        return {
            loader: false,
            formData: {
                fullname: "",
                object: "",
                email: "",
                message: "",
            },
            error: {
                fullname: "",
                object: "",
                email: "",
                message: "",
            },
        };
    },
    methods: {
        sendMessage: function () {
            this.loader = true;
            const header = {
                credentials: "same-origin",
                headers: {
                    "Content-Type": "application/json",
                    "X-CSRF-TOKEN": this.csrf_token,
                },
            };

            const body = JSON.stringify(this.formData);

            const getting = async () => {
                let data = await axios
                    .post("/send/message/", body, header)
                    .then((response) => {
                        return response.data;
                    })
                    .catch(function (error) {
                        if (error.response) {
                            console.error(error.response);
                        }
                    });
                if (data.code == "CREDENTIALS") {
                    this.$emit("alert", true);
                    this.$emit("altType", "error");
                    this.$emit("altTxt", data.message);
                } else if(data.code == "NOT_SENDED") {
                    this.$emit("alert", true);
                    this.$emit("altType", "error");
                    this.$emit("altTxt", data.message);
                } else if(data.code == "SUCCESS") {
                    this.$emit("alert", true);
                    this.$emit("altType", "success");
                    this.$emit("altTxt", data.message);
                } else {
                    this.$emit("alert", true);
                    this.$emit("altType", "error");
                    this.$emit("altTxt", "Erreur imprévu, veuillez réessayer s'il vous plaît.");
                }
            };

            setTimeout(() => {
                this.loader = false;
            }, 30000);
            getting();
        },
    },
};
</script>
